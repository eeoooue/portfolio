---
import allProjects from '../data/projects.json';
import ProjectCard from '../components/ProjectCard.astro';

const visibleProjects = allProjects.filter(p => p.visible);
---
<div class="card-container">
  {visibleProjects.map(project => (
    <ProjectCard
      href={project.href}
      imageSrc={`${import.meta.env.BASE_URL}${project.imageSrc}`}
      alt={project.alt}
      heading={project.heading}
      caption={project.caption}
    />
  ))}
</div>

<style>
    .card-container{
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
    }
</style>